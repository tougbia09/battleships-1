eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c])}}return p}('7 2p=o;7 1q=1p.3l(\'23\');7 h=1q.1X(\'2d\');7 H={1P:0,M:1}7 C={Z:0,1n:1,1e:2,W:3,1y:4}7 14={1e:0,W:1}7 D=C.1y;7 X=14.1e;7 Y=[];7 18=o;7 Q=3m();7 1W=o;d k(x,y,w,A,E){B.x=x;B.y=y;B.w=w;B.A=A;B.E=E;B.U=d(x,y){c(B.A==H.M){c(B.x==x&&B.y<=y&&B.y+B.w>y)m z}p{c(B.y==y&&B.x<=x&&B.x+B.w>x)m z}m o}}7 r={};7 12=[];7 q=g;7 f=g;7 n={};7 1c;7 1a;7 V=0;7 J=[];7 1f=g;$(21).3n(d(){1Y();1Y(\'1F\')});d 1Y(L){c(L==g){1c=1p.2A(\'1q\');1c.1J=u;1c.1I=u}p{1a=1p.2A(\'1q\');1a.1J=u;1a.1I=u}7 S=L==g?1c.1X(\'2d\'):1a.1X(\'2d\');S.1S=L==g?\'#3j\':L;S.3f=1;S.1G();j(7 i=0;i<22;i++){S.1r(0,(i-11)*4);S.1s(u,(i)*4);S.1r((i-11)*4,u);S.1s((i)*4,0)}S.1T()}$(\'#I\').F(\'1B\',d(){c(1W)m;c(D==C.1y){D=C.Z;18=o;2w();2U();R();$(\'#I\').1h(\'3g Z\');$(\'#2a\').1D(\'N\');24()}p c(D==C.Z){c(2x()==o)m;D=C.1n;$(\'#2a\').1g(\'N\');$(\'#1C\').1g(\'N\');f=g;q=g;R();c(Q!=g){2I();Q.2B(\'2z r\',1w.2y(r));$(\'#I\').1h(\'1n...\');2M()}p{1W=z;$(\'#I\').1h(\'3h 3i\')}}p c(D==C.W){D=C.1n;$(\'#I\').1g(\'N\');Q.2B(\'2z 12\',1w.2y(J))}});d 2w(){r={3w:1j k(1,1,5,0,\'3x\'),3u:1j k(2,2,4,1,\'3t\'),3q:1j k(3,3,3,0,\'3e\'),3r:1j k(4,4,3,0,\'3s\'),3y:1j k(4,5,2,0,\'3a\')}}d 2x(){7 1t=z;1f=[];7 2C=0;j(7 s 16 r){P.O(\'34 \'+s);c(27(r[s],s)==o){1f[2C++]=s;1t=o}}c(1t==o){2D()}m 1t}d 2D(){c(1f!=g){P.O(1f);j(7 i 2J 1f){7 t=r[i];1N(t.x,t.y);2h(\'1F\')}q=g;f=g}}d 2I(){Q.F(\'38\',d(){P.O(\'3d 3c\');$(\'#I\').1g(\'N\');21.2k(d(){1A()},3b)});Q.F(\'2H\',d(){P.O(\'2G 2v: 2H\');D=C.W;X=14.W});Q.F(\'2F\',d(){P.O(\'2G 2v: 2F\');D=C.1e;X=14.1e});Q.F(\'2j 12\',d(e){7 2s=1w.2i(e);j(7 1d 2J 2s){c(X==14.W){Y[1d.1x.x][1d.1x.y]={1E:z,E:1d.E}}p{12[1d.1x.x][1d.1x.y]=z}}1A();21.2k(d(){1A()},3z)});Q.F(\'2j r\',d(e){r=1w.2i(e);X=14.1e;18=z})}d 1A(){P.O(\'X: \'+X);c(X==14.W){$(\'#I\').1h(\'42\');V=0;2R()}p{$(\'#I\').1h(\'1n...\');R()}c(18==z){h.2P="3X 2W";7 2K=\'3W\';7 2r=\'3U\';j(7 i=0;i<4;i++){h.T=\'3V(0, 41, 0, 0.6)\';h.1k(v(3+i),v(4),40,40);h.1k(v(3+i),v(5),40,40);h.T=\'2O\';h.1u(2K[i],v(3+i)+8,v(4)+30);h.1u(2r[i],v(3+i)+8,v(5)+30)}2p=o;D=C.1y;$(\'#I\').1h(\'3T 3F 3G\');$(\'#I\').1D(\'N\')}}$(\'#1C\').F(\'1B\',d(){c(q==g||f==g||$(B).3E(\'3D\'))m;f.A=f.A==H.M?H.1P:H.M;c(f.A==H.M){c(f.y>(10-f.w)){f.y=10-f.w}}p{c(f.x>(10-f.w)){f.x=10-f.w}}1z();P.O(\'3A\');R()});$(\'#2a\').F(\'1B\',d(){f=g;q=g;24()});$(\'#23\').F(\'3C\',d(e){2u(e)});$(\'#23\').F(\'3J\',d(e){31(e)});$(1p).F(\'3P\',d(e){2Y(e)});d 2u(e){n=1v(e.2T,e.2Z);P.O(\'3Q 3R F \'+n.x+\' \'+n.y);c(n==g){m}c(D==C.Z){c(U(n.x,n.y)==z){1N(n.x,n.y)}p{f=g;q=g}R()}p c(D==C.W){7 x=n.x;7 y=n.y;c(Y[x][y].1E==z)m;c(!2X(n)){$(\'#1o\'+V).2b({3O:20+v(y)+\'2l\',3N:20+v(x)+\'2l\',2c:\'n\'});J[V]=n;V++;c(V==3)V=0;1R()}p{29(x,y)}}}$(\'[3K^=1o]\').1B(d(e){n=1v(e.2E.3L,e.2E.3M);29(n.x,n.y)});d v(a){m 35+a*u}d 2X(n){j(7 i=0;i<3;i++){c(J[i]==g)1H;c(J[i].x==n.x&&J[i].y==n.y)m z}m o}d 29(x,y){j(7 i=0;i<3;i++){c(J[i]==g)1H;c(J[i].x==x&&J[i].y==y){J[i]=g;$(\'#1o\'+i).2b(\'2c\',\'32\');V=i}}1R()}d 2M(){j(7 x=0;x<10;x++){Y[x]=[];j(7 y=0;y<10;y++){Y[x][y]={1E:o,E:\'\'}}}}d 1R(){7 1M=z;j(7 b=0;b<3;b++){c(J[b]==g)1M=o}c(1M){$(\'#I\').1D(\'N\')}p{$(\'#I\').1g(\'N\')}}d 1z(){q={1l:f.x,1i:f.y}c(f.A==H.M){q.2g=f.x;q.2f=f.y+f.w-1}p{q.2g=f.x+f.w-1;q.2f=f.y}}d 31(e){c(D!=C.Z)m;c(n==g)m;7 13=1v(e.2T,e.2Z);c(13==g)m;c(q!=g){c(13.x!=n.x||13.y!=n.y){P.O(\'37\');2N(13.x-n.x,13.y-n.y);n=13;R()}}}d 2Y(e){c(D!=C.Z)m;n=g;c(q!=g&&f!=g){$(\'#1C\').1D(\'N\')}p{$(\'#1C\').1g(\'N\');q=g;f=g}R()}d 1N(x,y){P.O(\'3v k 3p \'+x+\' ; \'+y);q=g;j(7 s 16 r){7 t=r[s];c(t.U(x,y)){f=t;1z();3o}}}d 2N(17,19){c(f.x+17>=0){c(f.A==H.1P){c(f.x+f.w+17<=10){f.x+=17}}p{c(f.x+17<10){f.x+=17}}}c(f.y+19>=0){c(f.A==H.M){c(f.y+f.w+19<=10){f.y+=19}}p{c(f.y+19<10){f.y+=19}}}1z();m}d 1v(x,y){c(x<u||y<u){m g}c(x>1b||y>1b){m g}x-=u;y-=u;m{x:K.1m(x/u),y:K.1m(y/u)}}d 2U(){j(7 x=0;x<10;x++){12[x]=[];j(7 y=0;y<10;y++){12[x][y]=o}}}d R(){2e();2q();c(18==o)2t();p 1O()}d 2R(){2S();2e();1O()}d 2S(){j(7 i=0;i<3;i++){$(\'#1o\'+i).2b(\'2c\',\'32\')}}d 2e(){h.T=\'3Y\';h.1k(0,0,1b,1b);h.2P="3B 2W";h.T=\'2m\';j(7 i=1;i<=10;i++){h.1u(i,15,((i+1)*u)-15);h.1u(3I.3S(3Z+i),(i+1)*u-30,25)}h.1S="2m";j(7 i=1;i<=11;i++){h.1G();h.1r(i*u,u);h.1s(i*u,1b);h.1r(u,i*u);h.1s(1b,i*u);h.1T()}}d 2q(){j(7 s 16 r){7 t=r[s];h.T=t.E;j(7 l=0;l<t.w;l++){7 x=t.x;7 y=t.y;c(t.A==H.M){y=y+l}p{x=x+l}2o(x,y)}}2h()}d 2h(L){c(q!=g){7 1l=v(q.1l)-3;7 1i=v(q.1i)-3;7 1I=v(q.2g-q.1l);7 1J=v(q.2f-q.1i);h.T=h.36(L==g?1c:1a,\'3k\');h.1k(1l,1i,1I,1J)}}d 2t(){j(7 x=0;x<10;x++){j(7 y=0;y<10;y++){c(12[x][y]==z){1Q(v(x),v(y),U(x,y))}}}}d 1O(){j(7 x=0;x<10;x++){j(7 y=0;y<10;y++){c(Y[x][y].1E==z){7 E=Y[x][y].E;c(E!=\'\'&&E!=\'2L\'&&18==z)E=\'1F\';1Q(v(x),v(y),E!=\'\',E)}}}}d U(x,y){j(7 s 16 r){c(r[s].U!=g&&r[s].U(x,y)==z)m z}m o}d 1Q(1K,1L,2Q,L){h.1G();c(2Q==z){c(L!=g)h.T=L;p h.T="1F"}p{h.T="2L"}h.33(1K+20,1L+20,10,0,2*K.2V);h.39();h.1S="2O";h.1G();h.33(1K+20,1L+20,10,0,2*K.2V);h.1T()}d 2o(x,y){h.1k(v(x),v(y),40,40)}d 24(){j(7 s 16 r){7 t=r[s];t.x=-1;t.y=-1}j(7 s 16 r){7 t=r[s];7 G=[];G.x=-1;G.y=-1;G.w=t.w;G.A=0;3H(27(G,s)==o){G.x=K.1m(K.26()*10);G.y=K.1m(K.26()*10);G.A=K.1m(K.26()*2)}t.x=G.x;t.y=G.y;t.A=G.A}R()}d 27(k,2n){c(k.x<0||k.x>9)m o;c(k.y<0||k.y>9)m o;c(k.A==H.M){c(k.y+k.w>10)m o}p{c(k.x+k.w>10)m o}j(7 s 16 r){c(s!=2n){7 t=r[s];c(k.A==H.M){7 28=k.y-1;7 1Z=k.y+k.w;j(7 y=28;y<=1Z;y++){j(7 x=k.x-1;x<=k.x+1;x++){c(x==k.x&&!(y==28||y==1Z)){1H}c(U(x,y)){m o}}}}p{7 1V=k.x-1;7 1U=k.x+k.w;j(7 x=1V;x<=1U;x++){j(7 y=k.y-1;y<=k.y+1;y++){c(y==k.y&&!(x==1V||x==1U)){1H}c(U(x,y)){m o}}}}}}m z}',62,251,'|||||||var|||||if|function||_marked_ship|undefined|context||for|ship||return|block|false|else|marked_ship|ships||_ship|44|__c|length|||true|orientation|this|STATE|game_state|style|on|tmp|ORIENTATION|btn_accept|bullets|Math|color|VERTICAL|disable|log|console|socket|redraw_map|p_ctx|fillStyle|check_hit|bullet_index|SHOOTER|game_role|attacks|PLACEMENT|||shots|_block|ROLE||in|dx|game_over|dy|hatched_color|484|hatched|_shot|VICTIM|invalid_ships|addClass|html|y_1|new|fillRect|x_1|floor|WAITING|bullet_|document|canvas|moveTo|lineTo|result|fillText|get_block|JSON|bullet|ENDED|set_marked_ship|display_role|click|btn_rotate|removeClass|shot|red|beginPath|continue|width|height|_x|_y|ready|mark_ship|draw_bullets|HORIZONTAL|fill_shot|check_shoot_ready|strokeStyle|stroke|x_f|x_i|error|getContext|create_hatched_pattern|y_f||window||map|randomize_ships||random|is_valid_placement|y_i|hide_bullet|btn_place|css|display||draw_grids|y_2|x_2|display_marked_ship|parse|server_to_client|setTimeout|px|lime|_s|fill_block|game_started|draw_ships|line2|_tmp|draw_shots|map_down|changed|initialize_ships|validate_ship_positions|stringify|client_to_server|createElement|emit|index|mark_invalid_ships|target|victim|state|shooter|define_sockets|of|line1|white|clear_attacks|move_marked_ship|black|font|hit|redraw_shots|hide_bullets|offsetX|clear_shots|PI|Arial|is_shot|map_up|offsetY||map_move|none|arc|checking|46|createPattern|redrawing|start_game|fill|purple|300|started|game|yellow|lineWidth|ACCEPT|CANNOT|CONNECT|111|repeat|getElementById|io|load|break|at|submarine|cruiser|orange|blue|battleship|marking|carrier|aqua|destroyer|3000|rotating|16px|mousedown|disabled|hasClass|TO|START|while|String|mousemove|id|offsetLeft|offsetTop|left|top|mouseup|Map|down|fromCharCode|CLICK|OVER|rgba|GAME|30px|darkgreen|64||255|SHOOT'.split('|'),0,{}))
